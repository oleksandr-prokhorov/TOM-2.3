

-- EXP
HUNTEXP_SCAVENGER = 25;
HUNTEXP_WOLF = 25;
HUNTEXP_WARG = 50;
HUNTEXP_MOLERAT = 25;
HUNTEXP_MEATBUG = 5;
HUNTEXP_GIANT_BUG = 50;
HUNTEXP_BLOODFLY = 50;
HUNTEXP_KEILER = 25;
HUNTEXP_SNAPPER = 25;
HUNTEXP_SWAMPSHARK = 100;
HUNTEXP_SHADOWBEAST = 100;
HUNTEXP_TROLL = 100;
HUNTEXP_WARAN = 25;
HUNTEXP_GIANT_RAT = 25;
HUNTEXP_MINECRAWLER = 50;
HUNTEXP_LURKER = 50;

-- ENERGY
HUNTENER_SCAVENGER = 25;
HUNTENER_WOLF = 25;
HUNTENER_WARG = 50;
HUNTENER_MOLERAT = 25;
HUNTENER_MEATBUG = 5;
HUNTENER_GIANT_BUG = 50;
HUNTENER_BLOODFLY = 50;
HUNTENER_KEILER = 25;
HUNTENER_SNAPPER = 25;
HUNTENER_SWAMPSHARK = 100;
HUNTENER_SHADOWBEAST = 100;
HUNTENER_TROLL = 100;
HUNTENER_WARAN = 25;
HUNTENER_GIANT_RAT = 25;
HUNTENER_MINECRAWLER = 50;
HUNTENER_LURKER = 50;


-- drops
SCAVENGER_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
SCAVENGER_DROPLIST_1 = {"OOLTYB_ItAt_Teeth", "OOLTYB_ItAt_Teeth"}
SCAVENGER_DROPLIST_2 = {"OOLTYB_ItAt_Teeth", "OOLTYB_ItAt_Teeth"}
SCAVENGER_DROPLIST_3 = {"OOLTYB_ItAt_Teeth", "OOLTYB_ItAt_Teeth"}

WOLF_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
WOLF_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_WolfFur"}
WOLF_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_WolfFur"}
WOLF_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_WolfFur"}

WARG_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
WARG_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw"}
WARG_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_WargFur"}
WARG_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_WargFur"}

MOLERAT_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
MOLERAT_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "ItMi_Moleratlubric"}
MOLERAT_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "ItMi_Moleratlubric"}
MOLERAT_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "ItMi_Moleratlubric"}

MEATBUG_DROPLIST_NOSKILL = {"OOLTYB_ItAt_Meatbugflesh"}
MEATBUG_DROPLIST_1 = {"OOLTYB_ItAt_Meatbugflesh"}
MEATBUG_DROPLIST_2 = {"OOLTYB_ItAt_Meatbugflesh"}
MEATBUG_DROPLIST_3 = {"OOLTYB_ItAt_Meatbugflesh"}


GIANT_BUG_DROPLIST_NOSKILL = {"OOLTYB_ItAt_Meatbugflesh"}
GIANT_BUG_DROPLIST_1 = {"OOLTYB_ItAt_BugMandibles"}
GIANT_BUG_DROPLIST_2 = {"OOLTYB_ItAt_BugMandibles"}
GIANT_BUG_DROPLIST_3 = {"OOLTYB_ItAt_BugMandibles"}

BLOODFLY_DROPLIST_NOSKILL = {"OOLTYB_ItAt_Sting"}
BLOODFLY_DROPLIST_1 = {"OOLTYB_ItAt_Sting", "OOLTYB_ItAt_Wing"}
BLOODFLY_DROPLIST_2 = {"OOLTYB_ItAt_Sting", "OOLTYB_ItAt_Wing"}
BLOODFLY_DROPLIST_3 = {"OOLTYB_ItAt_Sting", "OOLTYB_ItAt_Wing"}

KEILER_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
KEILER_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_Addon_KeilerFur"}
KEILER_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_Addon_KeilerFur"}
KEILER_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_Addon_KeilerFur"}

KEILER_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
KEILER_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_Addon_KeilerFur"}
KEILER_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_Addon_KeilerFur"}
KEILER_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_Addon_KeilerFur"}

SNAPPER_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
SNAPPER_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
SNAPPER_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
SNAPPER_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}

SWAMPSHARK_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
SWAMPSHARK_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_SharkTeeth"}
SWAMPSHARK_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_SharkTeeth"}
SWAMPSHARK_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_SharkTeeth"}

SHADOWBEAST_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
SHADOWBEAST_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_ShadowFur"}
SHADOWBEAST_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_ShadowFur"}
SHADOWBEAST_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_ShadowFur"}

TROLL_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
TROLL_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_TrollFur"}
TROLL_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_TrollFur"}
TROLL_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_ItAt_TrollFur"}

WARAN_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
WARAN_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
WARAN_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
WARAN_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}

GIANT_RAT_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
GIANT_RAT_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
GIANT_RAT_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
GIANT_RAT_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}

GIANT_RAT_DROPLIST_NOSKILL = {"OOLTYB_ItAt_CrawlerMandibles"}
GIANT_RAT_DROPLIST_1 = {"OOLTYB_ItAt_CrawlerMandibles", "OOLTYB_ItAt_CrawlerPlate"}
GIANT_RAT_DROPLIST_2 = {"OOLTYB_ItAt_CrawlerMandibles", "OOLTYB_ItAt_CrawlerPlate"}
GIANT_RAT_DROPLIST_3 = {"OOLTYB_ItAt_CrawlerMandibles", "OOLTYB_ItAt_CrawlerPlate"}

LURKER_DROPLIST_NOSKILL = {"ZDPWLA_ItFoMuttonRaw"}
LURKER_DROPLIST_1 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
LURKER_DROPLIST_2 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}
LURKER_DROPLIST_3 = {"ZDPWLA_ItFoMuttonRaw", "OOLTYB_itat_LurkerSkin"}


-- 1 > 2 = 100 EXP
-- 2 > 3 = 200 EXP;
HUNTING_EXPTOLEVELS = {1000, 2000};


function Hunting(playerid)

	if Player[playerid].loggedIn == true then
		if Player[playerid].hunting == false then
			Player[playerid].hunting = true;
			GameTextForPlayer(playerid, 50, 6000, "Вы вошли в режим охоты.","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
		else
			Player[playerid].hunting = false;
			GameTextForPlayer(playerid, 50, 6000, "Вы вышли из режима охоты.","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
		end
	end

end
addCommandHandler({"/охота", "/hunt"}, Hunting);



function UpdateHuntLevel(playerid)

	for i, v in ipairs(HUNTING_EXPTOLEVELS) do
		if Player[playerid].huntlevel == i then
			Player[playerid].huntexpn = v;
		end
	end

	if Player[playerid].huntexp >= Player[playerid].huntexpn then

		if Player[playerid].huntlevel == 1 or Player[playerid].huntlevel == 2 then
			Player[playerid].huntlevel = Player[playerid].huntlevel + 1;
			if Player[playerid].huntlevel == 3 then
				Player[playerid].huntexp = 0;
			end
			SendPlayerMessage(playerid, 249, 166, 2, "Навык охотника повышен до "..Player[playerid].huntlevel);
		end
	end

end

local itxasdqwefdsfqas = CreateTexture(5620, 3957, 8184, 4457, 'menu_ingame')

function EnergyLowInfo(playerid)
	GameTextForPlayer(playerid, 50, 6000, "Недостаточно энергии для разделки","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
end


function LogHunt(id, botType, bSuc, bExp, dItem1, dItem2, dItem3)

	local time = os.date('*t');
	local ryear = time.year;
	local rmonth = time.month;
	local rday = time.day;
	local rhour = string.format("%02d", time.hour);
	local rminute = string.format("%02d", time.min);
	
	local bot;
	if botType == "SCAVENGER" then
		bot = "падальщик";
	elseif botType == "WOLF" then
		bot = "волк";
	elseif botType == "WARG" then
		bot = "варг";
	elseif botType == "MOLERAT" then
		bot = "Кротокрыс";
	elseif botType == "MEATBUG" then
		bot = "Мясной жук";
	elseif botType == "GIANT_BUG" then
		bot = "Полевой жук";
	elseif botType == "BLOODFLY" then
		bot = "Кровавая муха";
	elseif botType == "KEILER" then
		bot = "Кабан";
	elseif botType == "SNAPPER" then
		bot = "Глорх"; 
	elseif botType == "SWAMPSHARK" then
		bot = "Болотожор";
	elseif botType == "SHADOWBEAST" then
		bot = "Мракорис";
	elseif botType == "TROLL" then
		bot = "Тролль";
	elseif botType == "WARAN" then
		bot = "Ящерица";
	elseif botType == "GIANT_RAT" then
		bot = "Крыса";
	elseif botType == "MINECRAWLER" then
		bot = "Ползун";
	end


	
	local item1, item2, item3;
	if dItem1 then
		item1 = dItem1;
	else
		item1 = " ";
	end
	
	if dItem2 then
		item2 = dItem2;
	else
		item2 = " ";
	end
	
	if dItem3 then
		item3 = dItem3;
	else
		item3 = " ";
	end
	
	local ch;
	if bSuc == true then
		ch = "успешно";
	else
		ch = "неудачно";
	end
	
	local txt = GetPlayerName(id).." убил бота "..bot.."("..ch..") / Получено: "..bExp.."/ „роп: "..item1..", "..item2;
	
	LogString("Logs/Hunt/Hunt.txt", "("..rhour..":"..rminute.." "..rday.."."..rmonth.."."..ryear..") "..txt);

end

function mobsDeath(playerid, p_classid, killerid, k_classid)
	
	local check = true;
	
	if killerid ~= -1 then
		if Player[killerid].loggedIn == true then
			if GetPlayerName(killerid) ~= GetPlayerName(playerid) then
				check = false;
			end
		end
	end
	
	if check == false then
		if Player[killerid].hunting == true then
			if IsNPC(playerid) == 1 and GetPlayerInstance(playerid) ~= "PC_HERO" then

				if GetPlayerInstance(playerid) == "SCAVENGER" then -- падальщик

					if Player[killerid].energy >= HUNTENER_SCAVENGER then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SCAVENGER; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тушу","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
								LogHunt(killerid, "SCAVENGER", false, 0);
							else
								GiveItem(killerid, SCAVENGER_DROPLIST_NOSKILL[1], 2);
								SendPlayerMessage(killerid, 255, 255, 255, "Вы разделали тушу падальщика.")
								SaveItems(killerid);
								LogHunt(killerid, "SCAVENGER", true, 0, SCAVENGER_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SCAVENGER; -- забираем стамину.
							UpdateEnergyBar(killerid);

							local drop = math.random(1, 10);
							if drop <= 3 then
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тушу","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
								LogHunt(killerid, "SCAVENGER", false, 0);
							else
								GiveItem(killerid, SCAVENGER_DROPLIST_1[1], 4);
								GiveItem(killerid, SCAVENGER_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу падальщика","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SCAVENGER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SCAVENGER", true, HUNTEXP_SCAVENGER, SCAVENGER_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SCAVENGER; -- забираем стамину.
							UpdateEnergyBar(killerid);

							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "SCAVENGER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тушу","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SCAVENGER_DROPLIST_2[1], 6); -- даем дроп.
								GiveItem(killerid, SCAVENGER_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу падальщика","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SCAVENGER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SCAVENGER", true, HUNTEXP_SCAVENGER, SCAVENGER_DROPLIST_NOSKILL[1], SCAVENGER_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SCAVENGER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, SCAVENGER_DROPLIST_3[1], 8); -- даем дроп.
							GiveItem(killerid, SCAVENGER_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу падальщика","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "SCAVENGER", true, 0, SCAVENGER_DROPLIST_NOSKILL[1], SCAVENGER_DROPLIST_NOSKILL[2], SCAVENGER_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------

						end
					else
						EnergyLowInfo(killerid);
					end
					SavePlayer(killerid);

				elseif GetPlayerInstance(playerid) == "WOLF" then -- волк

					if Player[killerid].energy >= HUNTENER_WOLF then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WOLF; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "WOLF", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тушу","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WOLF_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу волка","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "WOLF", true, 0, WOLF_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WOLF; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "WOLF", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тушу","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WOLF_DROPLIST_1[1], 3);
								GiveItem(killerid, WOLF_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу волка","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_WOLF;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "WOLF", true, HUNTEXP_WOLF, WOLF_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WOLF; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "WOLF", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тушу","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WOLF_DROPLIST_2[1], 5); -- даем дроп.
								GiveItem(killerid, WOLF_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу волка","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_WOLF;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "WOLF", true, HUNTEXP_WOLF, WOLF_DROPLIST_NOSKILL[1], WOLF_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WOLF; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, WOLF_DROPLIST_3[1], 7); -- даем дроп.
							GiveItem(killerid, WOLF_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу волка","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "WOLF", true, 0, WOLF_DROPLIST_NOSKILL[1], WOLF_DROPLIST_NOSKILL[2], WOLF_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------

						end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

				elseif GetPlayerInstance(playerid) == "WARG" then -- варг

					if Player[killerid].energy >= HUNTENER_WARG then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARG; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "WARG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать варга","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WARG_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варга","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "WARG", true, 0, MOLERAT_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "WARG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать варга","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WARG_DROPLIST_1[1], 3); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варга","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_WARG;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "WARG", true, HUNTEXP_WARG, WARG_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "WARG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать варга","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WARG_DROPLIST_2[1], 5); -- даем дроп.
								GiveItem(killerid, WARG_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варга","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_WARG;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "WARG", true, HUNTEXP_WARG, WARG_DROPLIST_NOSKILL[1], WARG_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, WARG_DROPLIST_3[1], 7); -- даем дроп.
							GiveItem(killerid, WARG_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варга","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "WARG", true, 0, WARG_DROPLIST_NOSKILL[1], WARG_DROPLIST_NOSKILL[2], WARG_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------

						end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "MOLERAT" then -- варг

					if Player[killerid].energy >= HUNTENER_MOLERAT then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MOLERAT; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "MOLERAT", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кротокрыса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MOLERAT_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "MOLERAT", true, 0, MOLERAT_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MOLERAT; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "MOLERAT", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кротокрыса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MOLERAT_DROPLIST_1[1], 4);
								GiveItem(killerid, MOLERAT_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_MOLERAT;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "MOLERAT", true, HUNTEXP_MOLERAT, MOLERAT_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MOLERAT; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "MOLERAT", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кротокрыса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MOLERAT_DROPLIST_2[1], 6); -- даем дроп.
								GiveItem(killerid, MOLERAT_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_MOLERAT;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "MOLERAT", true, HUNTEXP_MOLERAT, MOLERAT_DROPLIST_NOSKILL[1], MOLERAT_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MOLERAT; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, MOLERAT_DROPLIST_3[1], 8); -- даем дроп.
							GiveItem(killerid, MOLERAT_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "MOLERAT", true, 0, MOLERAT_DROPLIST_NOSKILL[1], MOLERAT_DROPLIST_NOSKILL[2], MOLERAT_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
						end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "MEATBUG" then -- варг

					if Player[killerid].energy >= HUNTENER_MEATBUG then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MEATBUG; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "MEATBUG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кротокрыса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MEATBUG_DROPLIST_NOSKILL[1], 1);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "MEATBUG", true, 0, MEATBUG_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MEATBUG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "MEATBUG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать жука","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MEATBUG_DROPLIST_1[1], 1);-- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали жука","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_MEATBUG;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "MEATBUG", true, HUNTEXP_MEATBUG, MEATBUG_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MEATBUG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "MEATBUG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кротокрыса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MEATBUG_DROPLIST_2[1], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_MEATBUG;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "MEATBUG", true, HUNTEXP_MEATBUG, MEATBUG_DROPLIST_NOSKILL[1], MEATBUG_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MEATBUG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, MEATBUG_DROPLIST_3[1], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кротокрыса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "MEATBUG", true, 0, MEATBUG_DROPLIST_NOSKILL[1], MEATBUG_DROPLIST_NOSKILL[2], MEATBUG_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "GIANT_BUG" then -- варг

					if Player[killerid].energy >= HUNTENER_GIANT_BUG then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_BUG; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "GIANT_BUG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать жука","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, GIANT_BUG_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу жука","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "GIANT_BUG", true, 0, GIANT_BUG_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_BUG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "GIANT_BUG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать жука","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, GIANT_BUG_DROPLIST_1[1], 1);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу жука","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_GIANT_BUG;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "GIANT_BUG", true, HUNTEXP_GIANT_BUG, GIANT_BUG_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_BUG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "GIANT_BUG", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать жука","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, GIANT_BUG_DROPLIST_2[1], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу жука","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_GIANT_BUG;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "GIANT_BUG", true, HUNTEXP_GIANT_BUG, GIANT_BUG_DROPLIST_NOSKILL[1], GIANT_BUG_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_BUG; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, GIANT_BUG_DROPLIST_3[1], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу жука","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "GIANT_BUG", true, 0, GIANT_BUG_DROPLIST_NOSKILL[1], GIANT_BUG_DROPLIST_NOSKILL[2], GIANT_BUG_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "BLOODFLY" then -- варг

					if Player[killerid].energy >= HUNTENER_BLOODFLY then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_BLOODFLY; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "BLOODFLY", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать шершня","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, BLOODFLY_DROPLIST_NOSKILL[1], 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать шершня","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "BLOODFLY", true, 0, BLOODFLY_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_BLOODFLY; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "BLOODFLY", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать шершня","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, BLOODFLY_DROPLIST_1[1], 0);
								GiveItem(killerid, BLOODFLY_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу шершня","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_BLOODFLY;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "BLOODFLY", true, HUNTEXP_BLOODFLY, BLOODFLY_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_BLOODFLY; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "BLOODFLY", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать шершня","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, BLOODFLY_DROPLIST_2[1], 1); -- даем дроп.
								GiveItem(killerid, BLOODFLY_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу шершня","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_BLOODFLY;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "BLOODFLY", true, HUNTEXP_BLOODFLY, BLOODFLY_DROPLIST_NOSKILL[1], BLOODFLY_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_BLOODFLY; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, BLOODFLY_DROPLIST_3[1], 1); -- даем дроп.
							GiveItem(killerid, BLOODFLY_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу шершня","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "BLOODFLY", true, 0, BLOODFLY_DROPLIST_NOSKILL[1], BLOODFLY_DROPLIST_NOSKILL[2], BLOODFLY_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "KEILER" then -- варг

					if Player[killerid].energy >= HUNTENER_KEILER then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_KEILER; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "KEILER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кабана","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, KEILER_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кабана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "KEILER", true, 0, KEILER_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_KEILER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "KEILER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кабана","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, KEILER_DROPLIST_1[1], 3);
								GiveItem(killerid, KEILER_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кабана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_KEILER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "KEILER", true, HUNTEXP_KEILER, KEILER_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_KEILER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "KEILER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать кабана","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, KEILER_DROPLIST_2[1], 5); -- даем дроп.
								GiveItem(killerid, KEILER_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кабана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_KEILER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "KEILER", true, HUNTEXP_KEILER, KEILER_DROPLIST_NOSKILL[1], KEILER_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_KEILER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, KEILER_DROPLIST_3[1], 7); -- даем дроп.
							GiveItem(killerid, KEILER_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу кабана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "KEILER", true, 0, KEILER_DROPLIST_NOSKILL[1], KEILER_DROPLIST_NOSKILL[2], KEILER_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "SNAPPER" then -- варг

					if Player[killerid].energy >= HUNTENER_SNAPPER then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SNAPPER; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "SNAPPER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать глорха","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SNAPPER_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу глорха","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "SNAPPER", true, 0, SNAPPER_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SNAPPER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "SNAPPER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать глорха","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SNAPPER_DROPLIST_1[1], 3);
								GiveItem(killerid, SNAPPER_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу глорха","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SNAPPER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SNAPPER", true, HUNTEXP_SNAPPER, SNAPPER_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SNAPPER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "SNAPPER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать глорха","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SNAPPER_DROPLIST_2[1], 5); -- даем дроп.
								GiveItem(killerid, SNAPPER_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу глорха","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SNAPPER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SNAPPER", true, HUNTEXP_SNAPPER, SNAPPER_DROPLIST_NOSKILL[1], SNAPPER_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SNAPPER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, SNAPPER_DROPLIST_3[1], 7); -- даем дроп.
							GiveItem(killerid, SNAPPER_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу глорха","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "SNAPPER", true, 0, SNAPPER_DROPLIST_NOSKILL[1], SNAPPER_DROPLIST_NOSKILL[2], SNAPPER_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

				elseif GetPlayerInstance(playerid) == "SWAMPSHARK" then

					if Player[killerid].energy >= HUNTENER_SWAMPSHARK then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SWAMPSHARK; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "SWAMPSHARK", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать болотожора","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SWAMPSHARK_DROPLIST_NOSKILL[1], 4);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу болотожора","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "SWAMPSHARK", true, 0, SWAMPSHARK_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SWAMPSHARK; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "SWAMPSHARK", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать болотожора","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SWAMPSHARK_DROPLIST_1[1], 8);
								GiveItem(killerid, SWAMPSHARK_DROPLIST_1[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу болотожора","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SWAMPSHARK;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SWAMPSHARK", true, HUNTEXP_SWAMPSHARK, SWAMPSHARK_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SWAMPSHARK; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "SWAMPSHARK", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать болотожора","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SWAMPSHARK_DROPLIST_2[1], 12); -- даем дроп.
								GiveItem(killerid, SWAMPSHARK_DROPLIST_2[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу болотожора","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SWAMPSHARK;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SWAMPSHARK", true, HUNTEXP_SWAMPSHARK, SWAMPSHARK_DROPLIST_NOSKILL[1], SWAMPSHARK_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SWAMPSHARK; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, SWAMPSHARK_DROPLIST_3[1], 16); -- даем дроп.
							GiveItem(killerid, SWAMPSHARK_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу болотожора","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "SWAMPSHARK", true, 0, SWAMPSHARK_DROPLIST_NOSKILL[1], SWAMPSHARK_DROPLIST_NOSKILL[2], SWAMPSHARK_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

				elseif GetPlayerInstance(playerid) == "SHADOWBEAST" then

					if Player[killerid].energy >= HUNTENER_SHADOWBEAST then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SHADOWBEAST; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "SHADOWBEAST", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать мракориса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SHADOWBEAST_DROPLIST_NOSKILL[1], 4);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу мракориса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "SHADOWBEAST", true, 0, SHADOWBEAST_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SHADOWBEAST; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "SHADOWBEAST", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать мракориса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SHADOWBEAST_DROPLIST_1[1], 7);
								GiveItem(killerid, SHADOWBEAST_DROPLIST_1[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу мракориса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SHADOWBEAST;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SHADOWBEAST", true, HUNTEXP_SHADOWBEAST, SHADOWBEAST_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SHADOWBEAST; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "SHADOWBEAST", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать мракориса","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, SHADOWBEAST_DROPLIST_2[1], 11); -- даем дроп.
								GiveItem(killerid, SHADOWBEAST_DROPLIST_2[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу мракориса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_SHADOWBEAST;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "SHADOWBEAST", true, HUNTEXP_SHADOWBEAST, SHADOWBEAST_DROPLIST_NOSKILL[1], SHADOWBEAST_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_SHADOWBEAST; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, SHADOWBEAST_DROPLIST_3[1], 15); -- даем дроп.
							GiveItem(killerid, SHADOWBEAST_DROPLIST_3[2], 2); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу мракориса","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "SHADOWBEAST", true, 0, SHADOWBEAST_DROPLIST_NOSKILL[1], SHADOWBEAST_DROPLIST_NOSKILL[2], SHADOWBEAST_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "TROLL" then

					if Player[killerid].energy >= HUNTENER_TROLL then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_TROLL; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "TROLL", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тролля","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, TROLL_DROPLIST_NOSKILL[1], 10);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу тролля","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "TROLL", true, 0, TROLL_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_TROLL; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "TROLL", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тролля","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, TROLL_DROPLIST_1[1], 16);
								GiveItem(killerid, TROLL_DROPLIST_1[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу тролля","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_TROLL;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "TROLL", true, HUNTEXP_TROLL, TROLL_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_TROLL; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "TROLL", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать тролля","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, TROLL_DROPLIST_2[1], 24); -- даем дроп.
								GiveItem(killerid, TROLL_DROPLIST_2[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу тролля","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_TROLL;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "TROLL", true, HUNTEXP_TROLL, TROLL_DROPLIST_NOSKILL[1], TROLL_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_TROLL; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, TROLL_DROPLIST_3[1], 30); -- даем дроп.
							GiveItem(killerid, TROLL_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу тролля","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "TROLL", true, 0, TROLL_DROPLIST_NOSKILL[1], TROLL_DROPLIST_NOSKILL[2], TROLL_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "WARAN" then

					if Player[killerid].energy >= HUNTENER_WARAN then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARAN; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "WARAN", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать варана","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WARAN_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "WARAN", true, 0, WARAN_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARAN; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "WARAN", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать варана","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WARAN_DROPLIST_1[1], 3);
								GiveItem(killerid, WARAN_DROPLIST_1[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_WARAN;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "WARAN", true, HUNTEXP_WARAN, WARAN_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARAN; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "WARAN", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать варана","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, WARAN_DROPLIST_2[1], 5); -- даем дроп.
								GiveItem(killerid, WARAN_DROPLIST_2[2], 1); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_WARAN;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "WARAN", true, HUNTEXP_WARAN, WARAN_DROPLIST_NOSKILL[1], WARAN_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_WARAN; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, WARAN_DROPLIST_3[1], 7); -- даем дроп.
							GiveItem(killerid, WARAN_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу варана","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "WARAN", true, 0, WARAN_DROPLIST_NOSKILL[1], WARAN_DROPLIST_NOSKILL[2], WARAN_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end	

					elseif GetPlayerInstance(playerid) == "GIANT_RAT" then

					if Player[killerid].energy >= HUNTENER_GIANT_RAT then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_RAT; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "GIANT_RAT", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать крысы","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, GIANT_RAT_DROPLIST_NOSKILL[1], 2);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу крысы","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "GIANT_RAT", true, 0, GIANT_RAT_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_RAT; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "GIANT_RAT", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать крысы","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, GIANT_RAT_DROPLIST_1[1], 3);
								GiveItem(killerid, GIANT_RAT_DROPLIST_1[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу крысы","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_GIANT_RAT;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "GIANT_RAT", true, HUNTEXP_GIANT_RAT, GIANT_RAT_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_RAT; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "GIANT_RAT", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать крысы","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, GIANT_RAT_DROPLIST_2[1], 5); -- даем дроп.
								GiveItem(killerid, GIANT_RAT_DROPLIST_2[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу крысы","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_GIANT_RAT;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "GIANT_RAT", true, HUNTEXP_GIANT_RAT, GIANT_RAT_DROPLIST_NOSKILL[1], GIANT_RAT_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_GIANT_RAT; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, GIANT_RAT_DROPLIST_3[1], 7); -- даем дроп.
							GiveItem(killerid, GIANT_RAT_DROPLIST_3[2], 0); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу крысы","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "GIANT_RAT", true, 0, GIANT_RAT_DROPLIST_NOSKILL[1], GIANT_RAT_DROPLIST_NOSKILL[2], GIANT_RAT_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "MINECRAWLER" then

					if Player[killerid].energy >= HUNTENER_MINECRAWLER then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MINECRAWLER; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "MINECRAWLER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать ползуна","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MINECRAWLER_DROPLIST_NOSKILL[1], 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать ползуна","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "MINECRAWLER", true, 0, MINECRAWLER_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MINECRAWLER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "MINECRAWLER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать ползуна","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MINECRAWLER_DROPLIST_1[1], 0);
								GiveItem(killerid, MINECRAWLER_DROPLIST_1[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать ползуна","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_MINECRAWLER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "MINECRAWLER", true, HUNTEXP_MINECRAWLER, MINECRAWLER_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MINECRAWLER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "MINECRAWLER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать ползуна","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, MINECRAWLER_DROPLIST_2[1], 1); -- даем дроп.
								GiveItem(killerid, MINECRAWLER_DROPLIST_2[2], 0); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу ползуна","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_MINECRAWLER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "MINECRAWLER", true, HUNTEXP_MINECRAWLER, MINECRAWLER_DROPLIST_NOSKILL[1], MINECRAWLER_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_MINECRAWLER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, MINECRAWLER_DROPLIST_3[1], 1); -- даем дроп.
							GiveItem(killerid, MINECRAWLER_DROPLIST_3[2], 1); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу ползуна","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "MINECRAWLER", true, 0, MINECRAWLER_DROPLIST_NOSKILL[1], MINECRAWLER_DROPLIST_NOSKILL[2], MINECRAWLER_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end

					elseif GetPlayerInstance(playerid) == "LURKER" then

					if Player[killerid].energy >= HUNTENER_LURKER then -- если стамина игрока равна/больше требуемой для дропа

						if Player[killerid].huntlevel == 0 then -- если нет уровня

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_LURKER; -- забираем стамину за моба.
							UpdateEnergyBar(killerid);
							local drop = math.random(1,2); -- рандомим, получит ли игрок дроп, или нет
							if drop == 1 then
								LogHunt(killerid, "LURKER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать луркера","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, LURKER_DROPLIST_NOSKILL[1], 4);
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу луркера","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
								SaveItems(killerid);
								LogHunt(killerid, "LURKER", true, 0, LURKER_DROPLIST_NOSKILL[1]);
							end
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 1 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_LURKER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop <= 3 then
								LogHunt(killerid, "LURKER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать луркера","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, LURKER_DROPLIST_1[1], 7);
								GiveItem(killerid, LURKER_DROPLIST_1[2], 2); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу луркера","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_LURKER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "LURKER", true, HUNTEXP_LURKER, LURKER_DROPLIST_NOSKILL[1]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 2 then 
	 
							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_LURKER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							local drop = math.random(1, 10);
							if drop == 1 then
								LogHunt(killerid, "LURKER", false, 0);
								GameTextForPlayer(killerid, 50, 6000, "Вы не смогли освежевать луркера","Font_Old_10_White_Hi.TGA", 255,0,0, 3000);
							else
								GiveItem(killerid, LURKER_DROPLIST_2[1], 11); -- даем дроп.
								GiveItem(killerid, LURKER_DROPLIST_2[2], 2); -- даем дроп.
								GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу луркера","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							end
							SaveItems(killerid);
							Player[killerid].huntexp = Player[killerid].huntexp + HUNTEXP_LURKER;  -- даем опыт к навыку.
							UpdateHuntLevel(killerid); -- проверяем/обновляем опыт.
							SaveHunt(killerid); -- сохраняем.
							LogHunt(killerid, "LURKER", true, HUNTEXP_LURKER, LURKER_DROPLIST_NOSKILL[1], LURKER_DROPLIST_NOSKILL[2]);
							----------------------------------------------------------------------------------------------------

						elseif Player[killerid].huntlevel == 3 then

							----------------------------------------------------------------------------------------------------
							Player[killerid].energy = Player[killerid].energy - HUNTENER_LURKER; -- забираем стамину.
							UpdateEnergyBar(killerid);
							GiveItem(killerid, LURKER_DROPLIST_3[1], 15); -- даем дроп.
							GiveItem(killerid, LURKER_DROPLIST_3[2], 2); -- даем дроп.
							GameTextForPlayer(killerid, 50, 6000, "Вы разделали тушу луркера","Font_Old_10_White_Hi.TGA", 218,165,32, 3000);
							SaveItems(killerid);
							LogHunt(killerid, "LURKER", true, 0, LURKER_DROPLIST_NOSKILL[1], LURKER_DROPLIST_NOSKILL[2], LURKER_DROPLIST_NOSKILL[3]);
							-- опыт не даем, достигнут 3 уровень навыка.
							----------------------------------------------------------------------------------------------------
							end 
						SavePlayer(killerid);
					else
						EnergyLowInfo(killerid)
					end	
				end
			end
		end
	end
end

function SaveHunt(playerid)
	
	local file = io.open("Database/Players/Hunt/"..Player[playerid].nickname..".txt", "w+");
	file:write(Player[playerid].huntlevel.."\n");
	file:write(Player[playerid].huntexp);
	file:close();
 
end

function ReadHunt(playerid)

	local file = io.open("Database/Players/Hunt/"..Player[playerid].nickname..".txt", "r");
	if file then

		tempvar = file:read("*l");
		local result, d = sscanf(tempvar,"d");
		if result == 1 then
			Player[playerid].huntlevel = d;
		end

		tempvar = file:read("*l");
		local result, d = sscanf(tempvar,"d");
		if result == 1 then
			Player[playerid].huntexp = d;
		end

		file:close();
	end

end